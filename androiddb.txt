CREATE DATABASE androidlabb;

CREATE TABLE students
(id int NOT NULL AUTO_INCREMENT PRIMARY KEY,
name varchar(30));

CREATE TABLE courses
(id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
course_code varchar(30));

CREATE TABLE registrations
(student_id int,
course_id int);

ALTER TABLE registrations
ADD PRIMARY KEY(student_id,course_id);

ALTER TABLE registrations
ADD FOREIGN KEY(student_id)
REFERENCES students(id);

ALTER TABLE registrations
ADD FOREIGN KEY(course_id)
REFERENCES courses(id);

INSERT INTO students(name)
VALUES("Kalle Svensson"),
("Olle Skogberg"),
("Onkel Karlsson"),
("Tjorven Batra");

INSERT INTO courses(course_code)
VALUES("ABC_001"),
("WTF_007"),
("ODS_302"),
("ROL_995"),
("IPA_228");

INSERT INTO registrations(student_id,course_id)
VALUES(1,1),
(1,3),
(1,5),
(2,3),
(3,4),
(3,5),
(4,5);

SELECT course_code 
FROM courses as c
JOIN registrations as r
ON c.id = r.course_id
JOIN students as s
ON r.student_id = s.id
WHERE s.id = 1;

"SELECT course_code " + 
"FROM courses as c " +
"JOIN registrations as r " +
"ON c.id = r.course_id " +
"JOIN students as s " +
"ON r.student_id = s.id " +
"WHERE s.id = 1";